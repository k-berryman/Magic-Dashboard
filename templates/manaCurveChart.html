<div class="shadow-lg rounded-lg overflow-hidden w-500 h-500">
  <h1>Mana Curve Chart</h1>
  <h3>Converted Mana Cost (x-axis) vs. Amount of Cards in Deck with that CMC (y-axis)</h3>
  <button onclick="location.href='/';">Return to Dashboard</button>

  <div class="py-3 px-5 bg-gray-50">Mana curves help determine the speed of your deck.</div>
  <canvas class="p-10" id="chartBar"></canvas>

  {% for dataPoint in data %}
    <p>{{dataPoint}}</p>
  {% endfor %}

</div>

<style>
  p {
    visibility:hidden;
  }
</style>

<!-- Required chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Chart bar -->
<!-- PROVIDED BY TAILWIND CSS -->
<script>
  const getData = () => {
    let myData = []
    let pData = document.getElementsByTagName("p");
    for(let i = 0; i < pData.length; i++) {
      myData.push(Number(pData[i].innerHTML));
    }
    return myData
  }

  const labelsBarChart = [
    "0 CMC",
    "1 CMC",
    "2 CMC",
    "3 CMC",
    "4 CMC",
    "5 CMC",
    "6 CMC",
    "7 CMC",
    "8+ CMC",
  ];

  const dataBarChart = {
    labels: labelsBarChart,
    datasets: [
      {
        label: "Amount of Cards in Deck with that CMC",
        data: getData()
      },
    ],
  };

  const configBarChart = {
    type: "bar",
    data: dataBarChart,
    options: {},
  };

  var chartBar = new Chart(
    document.getElementById("chartBar"),
    configBarChart
  );
</script>
